{% extends "print/off_blank.html" %}

{% block extra_head %}
<style>
	table {
		width:100%;
		border:1px solid gray;
	}
	td {
		border:1px solid #AAA;
		padding:2px;
	}
	.title-0 {
		font-size:1.8em;
		font-weight:bold;
		background:#DDD;
	}
	.title-1 {
		font-size:1.2em;
		font-weight:bold;
		background:#DDD;
	}
	.title-leaf {

	}
	.price {
		text-align:right;
		font-weight:bold;
	}
	.no-price {
		background:#ffd6d3;
	}
	.header, .header td {
		border:none;
	}
	.header {
		margin-bottom:20px;
		font-size:1.2em;
	}
	.header .details {
		width:9.5cm;
		line-height:140%;
	}
	h1 {
		text-align:center;
		margin:0.6cm;
		font-size:2em;
	}
</style>
{% endblock %}

{% block header %}
{% include "print/header.html"%}
{% endblock %}

{% block body %}
<table class="header">
	<tr>
		<td>{{ state.address_street }}<br>
			телефон: {{ state.phones }}<br>
			факс: {{ state.fax }}<br>
			email: {{ state.email }}
		</td>
		<td class="details">
			Утверждаю _________________ Долгова А.А.<br>
			Исполнительный директор <br>
			{{ state.official_title }}<br>
			<div>{{ request.GET.date }}г.</div>
		</td>
	</tr>
</table>
<h1>Прейскурант цен</h1>
<table>
{% for service in services %}
	{% if service.0.level > 0 and not service.0.is_leaf_node %}
		
		<tr class="title-1">
			<td colspan=3>{{ service.0 }}</td>
		</tr>
		
		
	{% else %}


		{% with service.1 as price %}
			{% if not service.0.is_leaf_node or price %}
				<tr class="">
					{% if service.0.is_leaf_node %}
						<td class="id">{{ service.0.id }}</td>
						<td class="title-leaf">{{ service.0 }}</td>
						<td class="price">{{ price }}</td>
					{% else %}
					<td class="title-{{ service.0.level }}" colspan="3">
						{{ service.0 }}
					</td>
					{% endif %}
				</tr>
			{% endif %}
		{% endwith %}

	{% endif %}

{% endfor %}
</table>
{% endblock %}